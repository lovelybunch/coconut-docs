import{u as r,j as e}from"./index-DBvPSOWN.js";const d={title:"Devcontainer Setup",description:"undefined"};function s(i){const n={a:"a",aside:"aside",code:"code",div:"div",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",span:"span",...r(),...i.components};return e.jsxs(e.Fragment,{children:[e.jsx(n.header,{children:e.jsxs(n.h1,{id:"devcontainer-setup",children:["Devcontainer Setup",e.jsx(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#devcontainer-setup",children:e.jsx(n.div,{"data-autolink-icon":!0})})]})}),`
`,e.jsxs(n.h2,{id:"overview",children:["Overview",e.jsx(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#overview",children:e.jsx(n.div,{"data-autolink-icon":!0})})]}),`
`,e.jsxs(n.p,{children:[e.jsx(n.a,{href:"https://containers.dev",children:"Devcontainers"})," are a feature of VS Code, Cursor, and other supported IDEs that enable you to create a consistent and secure development environment using containers. They run in an isolated environment, making them particularly well-suited for coding agents and AI-powered development tools such as ",e.jsx(n.a,{href:"https://www.anthropic.com/claude-code",children:"Claude Code"}),", Google ",e.jsx(n.a,{href:"https://cloud.google.com/gemini/docs/codeassist/gemini-cli",children:"Gemini CLI"}),", or OpenAI's ",e.jsx(n.a,{href:"https://github.com/openai/codex",children:"Codex"}),"."]}),`
`,e.jsxs(n.p,{children:["The key advantage of this approach is that you can run development tools in complete isolation with elevated permissions (using flags like YOLO modes like Claude Code's ",e.jsx(n.a,{href:"https://docs.anthropic.com/en/docs/claude-code/cli-reference",children:"--dangerously-skip-permissions"}),") without compromising your host system's security."]}),`
`,e.jsxs(n.h2,{id:"devcontainer-cli-install",children:["Devcontainer CLI install",e.jsx(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#devcontainer-cli-install",children:e.jsx(n.div,{"data-autolink-icon":!0})})]}),`
`,e.jsx(e.Fragment,{children:e.jsx(n.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:e.jsx(n.code,{children:e.jsx(n.span,{className:"line",children:e.jsx(n.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"npm install -g @devcontainers/cli"})})})})}),`
`,e.jsxs(n.h2,{id:"devcontainer-setup-1",children:["Devcontainer Setup",e.jsx(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#devcontainer-setup-1",children:e.jsx(n.div,{"data-autolink-icon":!0})})]}),`
`,e.jsx(n.aside,{"data-callout":"info",children:e.jsx(n.p,{children:"Make sure you are inside your project folder."})}),`
`,e.jsx(n.p,{children:"Download the Coconut devcontainer:"}),`
`,e.jsx(e.Fragment,{children:e.jsx(n.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:e.jsx(n.code,{children:e.jsx(n.span,{className:"line",children:e.jsx(n.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"curl -fsSL https://raw.githubusercontent.com/lovelybunch/coconut-init/main/.devcontainer/setup-in-project.sh | bash"})})})})}),`
`,e.jsx(n.p,{children:"Build the underlying container:"}),`
`,e.jsx(e.Fragment,{children:e.jsx(n.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:e.jsx(n.code,{children:e.jsx(n.span,{className:"line",children:e.jsx(n.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"devcontainer build --workspace-folder ."})})})})}),`
`,e.jsx(n.p,{children:"Start the devcontainer:"}),`
`,e.jsx(e.Fragment,{children:e.jsx(n.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:e.jsx(n.code,{children:e.jsx(n.span,{className:"line",children:e.jsx(n.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"devcontainer up --workspace-folder ."})})})})}),`
`,e.jsx(n.p,{children:"List all devcontainers:"}),`
`,e.jsx(e.Fragment,{children:e.jsx(n.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:e.jsx(n.code,{children:e.jsx(n.span,{className:"line",children:e.jsx(n.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:'docker ps --filter "label=devcontainer.local_folder"'})})})})}),`
`,e.jsx(n.p,{children:"Remmove all devcontainers (remember the code is outside the containers so won't be lost):"}),`
`,e.jsx(e.Fragment,{children:e.jsx(n.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:e.jsx(n.code,{children:e.jsx(n.span,{className:"line",children:e.jsx(n.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:'docker ps -aq --filter "label=devcontainer.local_folder" | xargs docker rm -f'})})})})}),`
`,e.jsxs(n.h2,{id:"rebuilding-container",children:["Rebuilding Container",e.jsx(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#rebuilding-container",children:e.jsx(n.div,{"data-autolink-icon":!0})})]}),`
`,e.jsx(e.Fragment,{children:e.jsx(n.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:e.jsxs(n.code,{children:[e.jsx(n.span,{className:"line",children:e.jsx(n.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"devcontainer build --workspace-folder ."})}),`
`,e.jsx(n.span,{className:"line",children:e.jsx(n.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:'docker ps --filter "label=devcontainer.local_folder"'})}),`
`,e.jsxs(n.span,{className:"line",children:[e.jsx(n.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"docker rm -f <"}),e.jsx(n.span,{style:{color:"#22863A","--shiki-dark":"#8DDB8C"},children:"container-name"}),e.jsx(n.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:">"})]}),`
`,e.jsx(n.span,{className:"line",children:e.jsx(n.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"devcontainer up --workspace-folder"})}),`
`,e.jsxs(n.span,{className:"line",children:[e.jsx(n.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"docker exec -it <"}),e.jsx(n.span,{style:{color:"#22863A","--shiki-dark":"#8DDB8C"},children:"container-name"}),e.jsx(n.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"> bash"})]})]})})}),`
`,e.jsxs(n.h2,{id:"long-running-nut-serve-from-devcontainer",children:["Long running ",e.jsx(n.code,{children:"nut serve"})," from devcontainer",e.jsx(n.a,{"aria-hidden":"true",tabIndex:"-1",href:"#long-running-nut-serve-from-devcontainer",children:e.jsx(n.div,{"data-autolink-icon":!0})})]}),`
`,e.jsx(n.p,{children:"Connect into the container via the above (if it's already running you'll need the containers name and the last step to connect) and then run the following on the correct port. This will start the coconut service in the background."}),`
`,e.jsx(e.Fragment,{children:e.jsx(n.pre,{className:"shiki shiki-themes github-light github-dark-dimmed",style:{backgroundColor:"#fff","--shiki-dark-bg":"#22272e",color:"#24292e","--shiki-dark":"#adbac7"},tabIndex:"0",children:e.jsx(n.code,{children:e.jsx(n.span,{className:"line",children:e.jsx(n.span,{style:{color:"#24292E","--shiki-dark":"#ADBAC7"},children:"nohup nut serve --host=0.0.0.0 --port=3020 > /tmp/nut.log 2>&1 & disown"})})})})}),`
`,e.jsxs(n.p,{children:["Note it can be built without cache (",e.jsx(n.code,{children:"devcontainer build --workspace-folder . --no-cache"}),")."]})]})}function t(i={}){const{wrapper:n}={...r(),...i.components};return n?e.jsx(n,{...i,children:e.jsx(s,{...i})}):s(i)}export{t as default,d as frontmatter};
